# TCP/IP 网络模型
## 应用层  
最上层，也就是我们能直接接触到的就是应用层。我们电脑或手机上的应用软件都是在应用层实现的。当两个不同设备之间需要通信时，应用就把数据发送给下一层，也就是**传输层**。  

## 传输层  
应用层的数据包会发送给传输层，传输层是为应用层提供网络支持的。  
在传输层有两个传输协议，分别是`TCP`和`UDP`。  
`UDP`相对简单，只负责发送数据包，并不保证数据包能否到达对方，因此实时性强，传输效率高。  
`TCP`相比`UDP`多了很多特性，如流量控制、超时重传、拥塞控制等，这些都是为了让数据能够可靠的传输给对方。  
应用需要传输的数据可能会非常大，如果直接传输就不好进行管理。因此，当数据达到一定量`MSS`时，就需要对数据进行分块，每个段叫做`TCP协议段`。  
当接收设备接收数据包时，传输层则需要负责将数据包传给应用。但是一台设备上可能有多个应用在接收或传输数据，因此需要使用一个编号来区分开来，这个编号就是**端口**。由于传输的报文中携带有端口号，因此接收方可以识别出该报文应发送给哪个应用。  

## 网络层  
传输层的设计理念是简单、高效、专注，因此传输层并不负责网络路径选择和传输这部分。因此，实际的传输功能是交给网络层去做的。  
网络层最常使用的协议就是`IP协议`，其会将传输层的报文作为数据部分，再加上报头组成`IP报文`。同样，若报文超过`MTU`，也会进行分块。  
网络层负责从一个设备传输至另一个设备，那么世界上这么的设备，该如何查找、定位呢？因此，网络层需要拥有能够区分设备的编号，也就是`IP地址`。  
`IP地址`拥有两种意义：  
· 网络号，负责标识该IP属于哪个子网；  
· 主机号，负责表示该IP属于子网下的哪个设备；  
上述信息需要配合子网掩码进行计算。  
除了寻址，IP协议还有一个重要的能力是`路由`。实际场景中两台设备并不是通过网线直接相连的，而是通过各种网络设备，形成了很多条路径，数据包到达某个网络设备后，需要通过特定算法决定下一步的目的地。  

## 数据链路层  
一旦数据需要跨网络传输，就需要有一个设备同时在两个网络中，负责中介，这个设备一般是路由器。  
路由器如何得知某个IP属于哪个设备？因此，就需要有一层服务，负责标识网络中的设备，让数据在一条链路中传输，这就是`数据链路层`。  
每台设备的网卡都拥有`MAC地址`，是用来唯一标识设备的。路由计算出了下一步的IP地址，通过`ARP协议`找到该目的地的MAC地址，就知道这个IP属于哪个设备了。  

## 物理层  
物理层负责将数据包转换成电信号，让其在物理介质中传输。  